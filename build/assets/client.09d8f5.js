webpackJsonp([1],{117:function(e,t,n){"use strict";function r(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function a(){return Math.floor(65536*(1+Math.random()))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var V=n(0),U=n.n(V),Y=n(36),q=n.n(Y),F=n(1),G=n.n(F),W=n(5),X=n(46),K=n(6),J=n.n(K),H=(n(118),function(e){var t=e.msg;return U.a.createElement("div",null,U.a.createElement("figure",{className:"msg-box"+(!0===t.self?" self":"")},U.a.createElement("div",{className:"avatar"},U.a.createElement("img",{className:"",src:n(119)})),U.a.createElement("div",{className:"msg"},U.a.createElement("div",{className:"info"},"azlar 20:00"),U.a.createElement("div",{className:"text"},U.a.createElement("span",null,t.text)))))});H.propTypes={msg:G.a.object};var B=H,z={JOIN_ROOM:"JOIN_ROOM",UPDATE_ROOM:"UPDATE_ROOM",SET_USER_ID:"SET_USER_ID"},Q={SET_ALERT_MSG:"SET_ALERT_MSG",CLEAR_ALERT:"CLEAR_ALERT",SET_CONFIRM:"SET_CONFIRM",CLEAR_CONFIRM:"CLEAR_CONFIRM"},Z={I_M_READY:"I_M_READY",UPDATE_READY_HANDS:"UPDATE_READY_HANDS",START:"START",STARTED:"STARTED",MY_TURN:"MY_TURN",STUFFY:"STUFFY",LOOK:"LOOK",FOLLOW:"FOLLOW",DROP:"DROP"},$={SEND_MESSAGE:"SEND_MESSAGE",RECEIVE_MESSAGE:"RECEIVE_MESSAGE"},ee=n(52),te="http://"+window.location.hostname+":3000",ne=function(e){return e.__TOKEN__="token",e.post=function(t,n,r){n&&"string"==typeof e.__TOKEN__&&""!==e.__TOKEN__&&(n.__TOKEN__=e.__TOKEN__),e.emit(t,n,r||function(){return!0})},e}(ee(te,{transports:["websocket","polling","flashsocket"]})),re=$,ae={send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,n){var r={userId:1,text:e};ne.post("message",{path:"send",data:Object.assign({},r)},function(e){t({type:re.SEND_MESSAGE,msg:Object.assign({},r,{self:1===r.userId})})})}},receive:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:re.RECEIVE_MESSAGE,msg:Object.assign({},e)}}},oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ie=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(){var e=n.props.dispatch,t=n.msgInput.value;t&&(e(ae.send(t)),n.msgInput.value="")},n.scrollMsgToBottom=function(){var e=n.msgList;e&&e.scrollTo(0,e.scrollHeight)},n.state={msgs:e.msgs||Object(K.OrderedSet)()},n.msgList,n.msgInput,n}return l(t,e),oe(t,[{key:"componentDidMount",value:function(){var e=this;this.context.socket.on("msg",function(t){(0,e.props.dispatch)(ae.receive(t))})}},{key:"componentDidUpdate",value:function(){this.scrollMsgToBottom()}},{key:"getChildContext",value:function(){return{dispatch:this.props.dispatch}}},{key:"render",value:function(){var e=this,t=this.props.msgs;return U.a.createElement("div",{className:"chat-panel panel"},U.a.createElement("div",null,U.a.createElement("section",{className:"msgs",ref:function(t){return e.msgList=t}},t.map(function(e){return U.a.createElement(B,{key:"msg"+r(),msg:e})})),U.a.createElement("section",{className:"send-box"},U.a.createElement("textarea",{type:"text",placeholder:"type something...",ref:function(t){return e.msgInput=t}}),U.a.createElement("button",{onClick:this.handleClick},"Send"))))}}]),t}(U.a.Component),le=function(e){return{msgs:e.msg}};ie.contextTypes={socket:G.a.object},ie.childContextTypes={dispatch:G.a.func},ie.displayName="Chat";var ue=Object(W.connect)(le)(ie),se=Q,ce={setAlert:function(e){return function(t,n){var r=n(),a=r.notifies.alerts,o=!1;a.find(function(t){o=t&&t.msg===e}),o||t({type:se.SET_ALERT_MSG,msg:e})}},clearAlert:function(e){return{type:se.CLEAR_ALERT,id:e}},setConfirm:function(e){return{type:se.SET_CONFIRM,newConfirm:e}},clearConfirm:function(){return{type:se.CLEAR_CONFIRM}}},fe=Z,pe={ready:function(){var e=this;return function(t,n){var r=n(),a=r.sys;ne.post("game",{path:"ready",data:{roomId:a.get("roomId"),userId:a.get("userId")}},function(n){t(e.updateReadyCount(n))}),t({type:fe.I_M_READY,ready:!0})}},updateReadyCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:fe.UPDATE_READY_HANDS,users:e}},start:function(){return function(e){e(ce.setAlert("game start~")),e({type:fe.START})}},started:function(){return{type:fe.STARTED}},myTurn:function(){},stuffy:function(){},look:function(){return function(e,t){var n=document.createEvent("MouseEvents");n.initEvent("dblclick",!0,!0),Array.prototype.map.call(document.querySelectorAll(".card-wrap.bg > div"),function(e){return e.dispatchEvent(n)})}},follow:function(){},drop:function(){return{type:fe.DROP}}},de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ye=function(e){function t(e){return u(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return c(t,e),de(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,n=e.actions;return t||(t=this.context.dispatch),U.a.createElement("div",null,Object.keys(n).map(function(e){return U.a.createElement("button",{key:"action-"+r(),onClick:function(){return t(n[e]())}},e)}))}}]),t}(U.a.Component);ye.propTypes={dispatch:G.a.func,actions:G.a.object},ye.contextTypes={dispatch:G.a.func};var me=ye,he={GAME_START:"GAME_START",LOOK_CARDS:"LOOK_CARDS"},ve={unready:0,ready:1,start:10,started:15,myTurn:100,waiting:110,drop:200,watching:900,get playing(){return[this.start,this.started,this.myTurn,this.waiting,this.drop,this.watching]}},be=n(28),ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Oe=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]?arguments[1]:null);if(e&&e.preventDefault(),n.state.rotate){if(!n.state.newNo)return;n.setState({rotate:!1,newNo:null})}else n.setState({rotate:!0},function(){setTimeout(function(){n.setState({newNo:"d"+parseInt(12*Math.random()+1)})},500)})},n.handleAnimate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout(function(){n.setState({animate:e})},t)},n.state={animate:!1,rotate:!1,newNo:e.no},n}return d(t,e),ge(t,[{key:"componentWillReceiveProps",value:function(e,t){var n=t.rootState.status;t.self&&-1!==[ve.dop,ve.watching].indexOf(n)&&this.state.rotate&&this.state.newNo&&this.handleClick()}},{key:"render",value:function(){var e=this,t=this.state.newNo,n=Math.abs(this.props.index-2),r=this.context.rootState.status,a=this.context.self;return U.a.createElement(be.Motion,{style:{rotate:Object(be.spring)(this.state.rotate?-720:0,{stiffness:120,damping:14}),translateX:Object(be.spring)(t?25*n:this.state.animate?20:0),scale:Object(be.spring)(t?1:this.state.rotate?1.2:1,be.presets.gentle),rotateX:Object(be.spring)(t?0:(this.state.animate,0)),rotateY:Object(be.spring)(t?3:this.state.animate?15:0,be.presets.wobbly),gray:Object(be.spring)(a&&-1!==[ve.dop,ve.watching].indexOf(r)?100:0,{stiffness:50,damping:20})}},function(n){var r=n.rotate,o=n.translateX,i=n.scale,l=n.gray,u=n.rotateX,s=n.rotateY;return U.a.createElement("div",{className:"card bg gradient"+(t?" "+t:"")+(a?" self":""),onDoubleClick:a?e.handleClick.bind(e,t):null,onMouseOver:e.handleAnimate.bind(e,!0),onMouseLeave:e.handleAnimate.bind(e,!1,500),draggable:!0,style:{transform:"rotate("+r+"deg) translate3d("+-o+"px, 0, 0) scale("+i+") rotateX("+u+"deg) rotateY("+s+"deg)",filter:"grayscale("+l+"%)"}})})}}]),t}(U.a.Component);Oe.contextTypes={rootState:G.a.object,self:G.a.bool},Oe.propTypes={no:G.a.string,index:G.a.number};var _e=Oe,Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Se=function(e){function t(e){y(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.openAll=function(){var e=document.createEvent("MouseEvents");e.initEvent("dblclick",!0,!0),Array.prototype.map.call(n.dom.querySelectorAll(".card-wrap.bg"),function(t){return t.dispatchEvent(e)})},n.getCardsStyle=function(e){var t=n.props.open;return e.map(function(r,a){return 0===a?n.defaultStye:{translateX:Object(be.spring)(t?e[a-1].translateX+64:n.defaultStye.translateX,Object.assign({},be.presets.wobbly,{precision:.1})),translateY:Object(be.spring)(t?e[a-1].translateY+2.5*a/3:0,Object.assign({},be.presets.wobbly,{precision:1e-4}))}})};var r=e.cards||Array(3).fill({no:null});return n.state={cards:r},n.defaultStye={translateX:0,translateY:0},n}return h(t,e),Ee(t,[{key:"render",value:function(){var e=this,t=this.state.cards,n=this.props,r=(n.open,n.boxIndex);return U.a.createElement(be.StaggeredMotion,{defaultStyles:[Object.assign({},this.defaultStye),Object.assign({},this.defaultStye),Object.assign({},this.defaultStye)],styles:this.getCardsStyle},function(n){return U.a.createElement("div",{className:"cards_v2",ref:function(t){return e.dom=t}},n.map(function(e,n){var a=e.translateX,o=e.translateY,i=t[n];return U.a.createElement("div",{className:"card-wrap"+(i.no?"":" bg"),key:"my-card-"+r+"-"+n,style:{transform:"translateX("+a+"px) translateY("+o+"px)",zIndex:n}},U.a.createElement(_e,{no:i.no,index:n}))}))})}}]),t}(U.a.Component);Se.contextTypes={self:G.a.bool,dispatch:G.a.func},Se.propTypes={cards:G.a.array,open:G.a.bool};var we=Se,Te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),je=function(e){function t(e){v(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMoveEnd=function(e,t,r){var a=n.context.rootState.status;!n.state.end&&-1!==ve.playing.indexOf(a)&&(0===r&&t<=25||3===r&&t>=75||1===r&&e<=25||2===r&&e>=75)&&setTimeout(function(){n.setState({end:!0})},200)},n.state={end:!1},n}return g(t,e),Te(t,[{key:"componentWillReceiveProps",value:function(e,t){var n=t.rootState.status;this.state.end&&-1===ve.playing.indexOf(n)&&this.setState({end:!1})}},{key:"getChildContext",value:function(){return{self:this.props.self}}},{key:"render",value:function(){var e=this,t=this.context.rootState.status,n=this.props.index;return U.a.createElement(be.Motion,{style:{y:Object(be.spring)(-1!==ve.playing.indexOf(t)?0===n?12:3===n?85:50:50,{stiffness:120,damping:14,precision:1}),x:Object(be.spring)(-1!==ve.playing.indexOf(t)?1===n?15:2===n?85:50:50,{stiffness:120,damping:14,precision:1}),translateX:-50,translateY:-50}},function(r){var a=r.x,o=r.y,i=r.translateX,l=r.translateY;return e.handleMoveEnd(a,o,n),U.a.createElement("div",{className:"card-box",style:{top:o+"%",left:a+"%",transform:"translate("+i+"%, "+l+"%)",pointerEvents:-1!==ve.playing.indexOf(t)&&e.state.end?"auto":"none",overflow:(-1!==ve.playing.indexOf(t)&&e.state.end,"visible")}},U.a.createElement(we,{open:e.state.end,boxIndex:n}))})}}]),t}(U.a.Component);je.childContextTypes={self:G.a.bool},je.contextTypes={rootState:G.a.object},je.propTypes={index:G.a.number};var Ie=je,ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pe=function(e){function t(e){return O(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return E(t,e),ke(t,[{key:"render",value:function(){var e=this.context.rootState.status;return-1===ve.playing.indexOf(e)?U.a.createElement("div",{className:"control-panel"},U.a.createElement("button",null,"准备")):U.a.createElement("div",{className:"control-panel gaming"},U.a.createElement("button",null,"闷"),U.a.createElement("button",null,"看"),U.a.createElement("button",null,"刚"),U.a.createElement("button",null,"怂"))}}]),t}(U.a.Component);Pe.contextTypes={rootState:G.a.object,dispatch:G.a.func};var Ae=Pe,Re=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),xe=function(e){function t(e){S(this,t);for(var n=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=["a","b","c","d"],a=[],o=1;o<=13;o++)!function(e){r.map(function(t){return a.push(t+e)})}(o);return n.state={no:a},n}return T(t,e),Re(t,[{key:"componentDidMount",value:function(){var e=this.context,t=e.socket,n=e.dispatch,r=he;t.on(r.GAME_START,function(){n(pe.start())})}},{key:"getChildContext",value:function(){return{rootState:this.props}}},{key:"render",value:function(){var e=this.props;e.readyUsers,e.status;return U.a.createElement("div",{className:"game-panel"},U.a.createElement(me,{actions:pe}),U.a.createElement("div",{className:"box"},new Array(3).fill(null).map(function(e,t){return U.a.createElement(Ie,{index:t,key:"card-box-"+t})}),U.a.createElement(Ie,{index:3,self:!0}),U.a.createElement(Ae,null)))}}]),t}(U.a.Component),Ce=function(e){var t=e.game;return{status:t.get("status"),readyUsers:t.get("readyUsers")}};xe.propTypes={status:G.a.number},xe.contextTypes={dispatch:G.a.func,socket:G.a.object},xe.childContextTypes={rootState:G.a.object};var Me=Object(W.connect)(Ce)(xe),Ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),De=function(e){function t(e){j(this,t);var n=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAnimationEnd=function(e){if(e.animationName,"bounceOut"===e.animationName){var t=n.context.dispatch,r=n.props.alert.id;t(ce.clearAlert(r))}},n.state={animationType:"in"},n}return k(t,e),Ne(t,[{key:"render",value:function(){var e=this.props.alert;if(!e)return U.a.createElement("div",{className:"alert-box hiding"});var t=(e.id,e.type),n=e.msg;return t=t||"info",n=n||null,U.a.createElement("div",{className:"alert-box "+this.state.animationType,onAnimationEnd:this.handleAnimationEnd},U.a.createElement("div",{className:"msg"},n))}}]),t}(U.a.Component);De.displayName="Alert",De.contextTypes={dispatch:G.a.func};var Le=De,Ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ue=function(e){function t(e){P(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAnimationEnd=n.handleAnimationEnd.bind(n),n.handleClick=n.handleClick.bind(n),n.state={animationType:"in",cb:null},n}return R(t,e),Ve(t,[{key:"handleClick",value:function(e,t){this.setState({animationType:"out",cb:e})}},{key:"handleAnimationEnd",value:function(e){if("bounceOut"===e.animationName){var t=this.context.dispatch;"function"==typeof this.state.cb&&this.state.cb(),t(ce.clearConfirm())}}},{key:"render",value:function(){var e=this.props.confirm;if(!e)return null;var t=(e.id,e.title),n=e.msg,r=e.ok,a=e.cancel,o=e.okName,i=e.cancelName;return U.a.createElement("div",{className:"confirm",onClick:this.handleClick.bind(this,a)},U.a.createElement("div",{className:"confirm-box "+this.state.animationType,onAnimationEnd:this.handleAnimationEnd,onClick:function(e){return e.stopPropagation()}},U.a.createElement("div",{className:"title"},t),U.a.createElement("div",{className:"body"},n),U.a.createElement("div",{className:"footer"},U.a.createElement("div",{className:"ok",onClick:this.handleClick.bind(this,r)},o),U.a.createElement("div",{className:"cancel",onClick:this.handleClick.bind(this,a)},i))))}}]),t}(U.a.Component);Ue.displayName="Confirm",Ue.contextTypes={dispatch:G.a.func};var Ye=Ue,qe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Fe=function(e){function t(e){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return M(t,e),qe(t,[{key:"getChildContext",value:function(){return{dispatch:this.props.dispatch}}},{key:"render",value:function(){var e=this.props.notifies,t=e.alerts,n=e.confirm,r=Array.from(t.values());return U.a.createElement("span",{className:"notify"},U.a.createElement("div",{className:"alerts"},r.map(function(e){return U.a.createElement(Le,{key:"notify-alert-"+e.id,alert:e})})),n?U.a.createElement(Ye,{confirm:n,key:"notify-confirm-"+n.id}):null)}}]),t}(U.a.Component),Ge=function(e){return{notifies:e.notifies}};Fe.displayName="Notify",Fe.childContextTypes={dispatch:G.a.func};var We=Object(W.connect)(Ge)(Fe),Xe=z,Ke={joinRoom:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){ne.post("sys",{path:"joinRoom",data:{userId:1,roomId:"test"}},function(e){})}},getRoomId:function(){return function(e,t){var n=t(),r=n.sys;ne.post("sys",{path:"getRooms",data:{userId:r.userId}},function(t){e({type:Xe.UPDATE_ROOM,roomId:t.pop()})})}},setUserId:function(e){return{type:Xe.SET_USER_ID,id:e}}},Je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),He=function(e){function t(e){N(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.platform="darwin",n.socket=ne,n}return L(t,e),Je(t,[{key:"componentWillMount",value:function(){var e=this;ne.on("connect",function(){var t=e.props.dispatch;t(Ke.getRoomId()),t(Ke.setUserId(ne.id))})}},{key:"getChildContext",value:function(){return{socket:this.socket,dispatch:this.props.dispatch}}},{key:"render",value:function(){return U.a.createElement("div",{className:"root"},U.a.createElement("div",{className:"body"},U.a.createElement(Me,null),U.a.createElement(We,null)),U.a.createElement(ue,null))}}]),t}(U.a.Component);He.propTypes={dispatch:G.a.func},He.childContextTypes={socket:G.a.object,dispatch:G.a.func};var Be=Object(W.connect)()(He),ze=function(e){var t=e.store;return U.a.createElement(W.Provider,{store:t},U.a.createElement(X.BrowserRouter,null,U.a.createElement(Be,null)))};ze.propTypes={store:G.a.object.isRequired};var Qe=ze,Ze=n(9),$e=n(49),et=n.n($e),tt=n(48),nt=n(51),rt=n.n(nt),at=Object(K.OrderedSet)().add({text:"test",userId:1}).add({text:"21382137217371237120937217392713721937219739212138213721737123712093721739271372193721973921213821372173712371209372173927137219372197392121382137217371237120937217392713721937219739212138213721737123712093721739271372193721973921",userId:1,self:!0}),ot=$,it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments[1];switch(t.type){case ot.SEND_MESSAGE:case ot.RECEIVE_MESSAGE:return e.add(t.msg||{});default:return e}},lt=J.a.fromJS({roomId:null,userId:null,userName:null}),ut=z,st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments[1];switch(t.type){case ut.UPDATE_ROOM:var n=t.roomId||null;return e.set("roomId",n);case ut.SET_USER_ID:var r=t.id||null;return e.set("userId",r);default:return e}},ct=J.a.fromJS({readyUsers:[],status:ve.unready}),ft=Z,pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments[1];switch(t.type){case ft.I_M_READY:return e.set("status",t.ready?ve.ready:ve.unready);case ft.UPDATE_READY_HANDS:var n=J.a.fromJS(t.users||[]);return e.set("readyUsers",n);case ft.START:return e.set("status",ve.start);case ft.STARTED:return e.set("status",ve.started);case ft.DROP:return e.set("status",ve.watching);default:return e}},dt=Object(K.OrderedMap)(),yt=Q,mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments[1];switch(t.type){case yt.SET_ALERT_MSG:var n={id:"alert-"+r(),msg:t.msg};return e.set(n.id,n);case yt.CLEAR_ALERT:return e.delete(t.id);default:return e}},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case yt.SET_CONFIRM:return Object.assign({},t.newConfirm,{id:"confirm-"+r()});case yt.CLEAR_CONFIRM:return null;default:return e}},vt=Object(Ze.combineReducers)({alerts:mt,confirm:ht}),bt=Object(Ze.combineReducers)({msg:it,sys:st,game:pt,notifies:vt}),gt=bt,Ot=function(){var e=[et.a,rt.a,_t],t=Object(tt.createLogger)({duration:!0});return e.push(t),Object(Ze.createStore)(gt,Ze.applyMiddleware.apply(void 0,e))},_t=function(e){return function(t){return function(n){var r=t(n);e.getState();return r}}},Et=Ot;n(127);var St=Et();q.a.render(U.a.createElement(Qe,{store:St}),document.getElementById("asd"))},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){var i=e[0],l=e[1],u=e[2],s=e[3];i=n(i,l,u,s,t[0],7,-680876936),s=n(s,i,l,u,t[1],12,-389564586),u=n(u,s,i,l,t[2],17,606105819),l=n(l,u,s,i,t[3],22,-1044525330),i=n(i,l,u,s,t[4],7,-176418897),s=n(s,i,l,u,t[5],12,1200080426),u=n(u,s,i,l,t[6],17,-1473231341),l=n(l,u,s,i,t[7],22,-45705983),i=n(i,l,u,s,t[8],7,1770035416),s=n(s,i,l,u,t[9],12,-1958414417),u=n(u,s,i,l,t[10],17,-42063),l=n(l,u,s,i,t[11],22,-1990404162),i=n(i,l,u,s,t[12],7,1804603682),s=n(s,i,l,u,t[13],12,-40341101),u=n(u,s,i,l,t[14],17,-1502002290),l=n(l,u,s,i,t[15],22,1236535329),i=r(i,l,u,s,t[1],5,-165796510),s=r(s,i,l,u,t[6],9,-1069501632),u=r(u,s,i,l,t[11],14,643717713),l=r(l,u,s,i,t[0],20,-373897302),i=r(i,l,u,s,t[5],5,-701558691),s=r(s,i,l,u,t[10],9,38016083),u=r(u,s,i,l,t[15],14,-660478335),l=r(l,u,s,i,t[4],20,-405537848),i=r(i,l,u,s,t[9],5,568446438),s=r(s,i,l,u,t[14],9,-1019803690),u=r(u,s,i,l,t[3],14,-187363961),l=r(l,u,s,i,t[8],20,1163531501),i=r(i,l,u,s,t[13],5,-1444681467),s=r(s,i,l,u,t[2],9,-51403784),u=r(u,s,i,l,t[7],14,1735328473),l=r(l,u,s,i,t[12],20,-1926607734),i=a(i,l,u,s,t[5],4,-378558),s=a(s,i,l,u,t[8],11,-2022574463),u=a(u,s,i,l,t[11],16,1839030562),l=a(l,u,s,i,t[14],23,-35309556),i=a(i,l,u,s,t[1],4,-1530992060),s=a(s,i,l,u,t[4],11,1272893353),u=a(u,s,i,l,t[7],16,-155497632),l=a(l,u,s,i,t[10],23,-1094730640),i=a(i,l,u,s,t[13],4,681279174),s=a(s,i,l,u,t[0],11,-358537222),u=a(u,s,i,l,t[3],16,-722521979),l=a(l,u,s,i,t[6],23,76029189),i=a(i,l,u,s,t[9],4,-640364487),s=a(s,i,l,u,t[12],11,-421815835),u=a(u,s,i,l,t[15],16,530742520),l=a(l,u,s,i,t[2],23,-995338651),i=o(i,l,u,s,t[0],6,-198630844),s=o(s,i,l,u,t[7],10,1126891415),u=o(u,s,i,l,t[14],15,-1416354905),l=o(l,u,s,i,t[5],21,-57434055),i=o(i,l,u,s,t[12],6,1700485571),s=o(s,i,l,u,t[3],10,-1894986606),u=o(u,s,i,l,t[10],15,-1051523),l=o(l,u,s,i,t[1],21,-2054922799),i=o(i,l,u,s,t[8],6,1873313359),s=o(s,i,l,u,t[15],10,-30611744),u=o(u,s,i,l,t[6],15,-1560198380),l=o(l,u,s,i,t[13],21,1309151649),i=o(i,l,u,s,t[4],6,-145523070),s=o(s,i,l,u,t[11],10,-1120210379),u=o(u,s,i,l,t[2],15,718787259),l=o(l,u,s,i,t[9],21,-343485551),e[0]=f(i,e[0]),e[1]=f(l,e[1]),e[2]=f(u,e[2]),e[3]=f(s,e[3])}function t(e,t,n,r,a,o){return t=f(f(t,e),f(r,o)),f(t<<a|t>>>32-a,n)}function n(e,n,r,a,o,i,l){return t(n&r|~n&a,e,n,o,i,l)}function r(e,n,r,a,o,i,l){return t(n&a|r&~a,e,n,o,i,l)}function a(e,n,r,a,o,i,l){return t(n^r^a,e,n,o,i,l)}function o(e,n,r,a,o,i,l){return t(r^(n|~a),e,n,o,i,l)}function i(t){var n,r=t.length,a=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(a,l(t.substring(n-64,n)));t=t.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)o[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(e(a,o),n=0;n<16;n++)o[n]=0;return o[14]=8*r,e(a,o),a}function l(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function u(e){for(var t="",n=0;n<4;n++)t+=p[e>>8*n+4&15]+p[e>>8*n&15];return t}function s(e){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e.join("")}function c(e){return s(i(unescape(encodeURIComponent(e))))}function f(e,t){return e+t&4294967295}var p="0123456789abcdef".split("");return c}()},119:function(e,t){e.exports="assets/static/img/ace.cc2f2e8.gif"},120:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(29),s=r(u),c=n(19),f=r(c),p=n(30),d=r(p),y=n(31),m=r(y),h=n(32),v=r(h),b=n(33),g=r(b),O=n(0),_=r(O),E=n(1),S=r(E),w=1e3/60,T=function(e){function t(n){var r=this;a(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=r.state,a=n.currentStyle,o=n.currentVelocity,l=n.lastIdealStyle,u=n.lastIdealVelocity;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=e[s];"number"==typeof c&&(t||(t=!0,a=i({},a),o=i({},o),l=i({},l),u=i({},u)),a[s]=c,o[s]=0,l[s]=c,u[s]=0)}t&&r.setState({currentStyle:a,currentVelocity:o,lastIdealStyle:l,lastIdealVelocity:u})},this.startAnimationIfNecessary=function(){r.animationID=v.default(function(e){var t=r.props.style;if(g.default(r.state.currentStyle,t,r.state.currentVelocity))return r.wasAnimating&&r.props.onRest&&r.props.onRest(),r.animationID=null,r.wasAnimating=!1,void(r.accumulatedTime=0);r.wasAnimating=!0;var n=e||m.default(),a=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+a,r.accumulatedTime>10*w&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();var o=(r.accumulatedTime-Math.floor(r.accumulatedTime/w)*w)/w,i=Math.floor(r.accumulatedTime/w),l={},u={},s={},c={};for(var f in t)if(Object.prototype.hasOwnProperty.call(t,f)){var p=t[f];if("number"==typeof p)s[f]=p,c[f]=0,l[f]=p,u[f]=0;else{for(var y=r.state.lastIdealStyle[f],h=r.state.lastIdealVelocity[f],v=0;v<i;v++){var b=d.default(w/1e3,y,h,p.val,p.stiffness,p.damping,p.precision);y=b[0],h=b[1]}var O=d.default(w/1e3,y,h,p.val,p.stiffness,p.damping,p.precision),_=O[0],E=O[1];s[f]=y+(_-y)*o,c[f]=h+(E-h)*o,l[f]=y,u[f]=h}}r.animationID=null,r.accumulatedTime-=i*w,r.setState({currentStyle:s,currentVelocity:c,lastIdealStyle:l,lastIdealVelocity:u}),r.unreadPropStyle=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(t,e),l(t,null,[{key:"propTypes",value:{defaultStyle:S.default.objectOf(S.default.number),style:S.default.objectOf(S.default.oneOfType([S.default.number,S.default.object])).isRequired,children:S.default.func.isRequired,onRest:S.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,r=t||f.default(n),a=s.default(r);return{currentStyle:r,currentVelocity:a,lastIdealStyle:r,lastIdealVelocity:a}},t.prototype.componentDidMount=function(){this.prevTime=m.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=m.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(v.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&_.default.Children.only(e)},t}(_.default.Component);t.default=T,e.exports=t.default},121:function(e,t,n){(function(t){(function(){var n,r,a,o,i,l;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},o=n(),l=1e9*t.uptime(),i=o-l):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(t,n(11))},122:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){for(var r=0;r<e.length;r++)if(!O.default(e[r],t[r],n[r]))return!1;return!0}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(29),c=r(s),f=n(19),p=r(f),d=n(30),y=r(d),m=n(31),h=r(m),v=n(32),b=r(v),g=n(33),O=r(g),_=n(0),E=r(_),S=n(1),w=r(S),T=1e3/60,j=function(e){function t(n){var r=this;a(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=r.state,n=t.currentStyles,a=t.currentVelocities,o=t.lastIdealStyles,i=t.lastIdealVelocities,u=!1,s=0;s<e.length;s++){var c=e[s],f=!1;for(var p in c)if(Object.prototype.hasOwnProperty.call(c,p)){var d=c[p];"number"==typeof d&&(f||(f=!0,u=!0,n[s]=l({},n[s]),a[s]=l({},a[s]),o[s]=l({},o[s]),i[s]=l({},i[s])),n[s][p]=d,a[s][p]=0,o[s][p]=d,i[s][p]=0)}}u&&r.setState({currentStyles:n,currentVelocities:a,lastIdealStyles:o,lastIdealVelocities:i})},this.startAnimationIfNecessary=function(){r.animationID=b.default(function(e){var t=r.props.styles(r.state.lastIdealStyles);if(i(r.state.currentStyles,t,r.state.currentVelocities))return r.animationID=null,void(r.accumulatedTime=0);var n=e||h.default(),a=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+a,r.accumulatedTime>10*T&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var o=(r.accumulatedTime-Math.floor(r.accumulatedTime/T)*T)/T,l=Math.floor(r.accumulatedTime/T),u=[],s=[],c=[],f=[],p=0;p<t.length;p++){var d=t[p],m={},v={},b={},g={};for(var O in d)if(Object.prototype.hasOwnProperty.call(d,O)){var _=d[O];if("number"==typeof _)m[O]=_,v[O]=0,b[O]=_,g[O]=0;else{for(var E=r.state.lastIdealStyles[p][O],S=r.state.lastIdealVelocities[p][O],w=0;w<l;w++){var j=y.default(T/1e3,E,S,_.val,_.stiffness,_.damping,_.precision);E=j[0],S=j[1]}var I=y.default(T/1e3,E,S,_.val,_.stiffness,_.damping,_.precision),k=I[0],P=I[1];m[O]=E+(k-E)*o,v[O]=S+(P-S)*o,b[O]=E,g[O]=S}}c[p]=m,f[p]=v,u[p]=b,s[p]=g}r.animationID=null,r.accumulatedTime-=l*T,r.setState({currentStyles:c,currentVelocities:f,lastIdealStyles:u,lastIdealVelocities:s}),r.unreadPropStyles=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return o(t,e),u(t,null,[{key:"propTypes",value:{defaultStyles:w.default.arrayOf(w.default.objectOf(w.default.number)),styles:w.default.func.isRequired,children:w.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=t||n().map(p.default),a=r.map(function(e){return c.default(e)});return{currentStyles:r,currentVelocities:a,lastIdealStyles:r,lastIdealVelocities:a}},t.prototype.componentDidMount=function(){this.prevTime=h.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=h.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(b.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&E.default.Children.only(e)},t}(E.default.Component);t.default=j,e.exports=t.default},123:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){var r=t;return null==r?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var a=0;a<r.length;a++)if(r[a].key===e.key)return{key:r[a].key,data:r[a].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function l(e,t,n,r){if(r.length!==t.length)return!1;for(var a=0;a<r.length;a++)if(r[a].key!==t[a].key)return!1;for(var a=0;a<r.length;a++)if(!w.default(e[a],t[a].style,n[a]))return!1;return!0}function u(e,t,n,r,a,o,i,l,u){for(var s=b.default(r,a,function(e,r){var a=t(r);return null==a?(n({key:r.key,data:r.data}),null):w.default(o[e],a,i[e])?(n({key:r.key,data:r.data}),null):{key:r.key,data:r.data,style:a}}),c=[],f=[],d=[],y=[],m=0;m<s.length;m++){for(var h=s[m],v=null,g=0;g<r.length;g++)if(r[g].key===h.key){v=g;break}if(null==v){var O=e(h);c[m]=O,d[m]=O;var _=p.default(h.style);f[m]=_,y[m]=_}else c[m]=o[v],d[m]=l[v],f[m]=i[v],y[m]=u[v]}return[s,c,f,d,y]}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(29),p=r(f),d=n(19),y=r(d),m=n(30),h=r(m),v=n(124),b=r(v),g=n(31),O=r(g),_=n(32),E=r(_),S=n(33),w=r(S),T=n(0),j=r(T),I=n(1),k=r(I),P=1e3/60,A=function(e){function t(n){var r=this;a(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=u(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,e,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),n=t[0],a=t[1],o=t[2],i=t[3],l=t[4],c=0;c<e.length;c++){var f=e[c].style,p=!1;for(var d in f)if(Object.prototype.hasOwnProperty.call(f,d)){var y=f[d];"number"==typeof y&&(p||(p=!0,a[c]=s({},a[c]),o[c]=s({},o[c]),i[c]=s({},i[c]),l[c]=s({},l[c]),n[c]={key:n[c].key,data:n[c].data,style:s({},n[c].style)}),a[c][d]=y,o[c][d]=0,i[c][d]=y,l[c][d]=0,n[c].style[d]=y)}}r.setState({currentStyles:a,currentVelocities:o,mergedPropsStyles:n,lastIdealStyles:i,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){r.unmounting||(r.animationID=E.default(function(e){if(!r.unmounting){var t=r.props.styles,n="function"==typeof t?t(i(r.state.mergedPropsStyles,r.unreadPropStyles,r.state.lastIdealStyles)):t;if(l(r.state.currentStyles,n,r.state.currentVelocities,r.state.mergedPropsStyles))return r.animationID=null,void(r.accumulatedTime=0);var a=e||O.default(),o=a-r.prevTime;if(r.prevTime=a,r.accumulatedTime=r.accumulatedTime+o,r.accumulatedTime>10*P&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var s=(r.accumulatedTime-Math.floor(r.accumulatedTime/P)*P)/P,c=Math.floor(r.accumulatedTime/P),f=u(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,n,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),p=f[0],d=f[1],y=f[2],m=f[3],v=f[4],b=0;b<p.length;b++){var g=p[b].style,_={},E={},S={},w={};for(var T in g)if(Object.prototype.hasOwnProperty.call(g,T)){var j=g[T];if("number"==typeof j)_[T]=j,E[T]=0,S[T]=j,w[T]=0;else{for(var I=m[b][T],k=v[b][T],A=0;A<c;A++){var R=h.default(P/1e3,I,k,j.val,j.stiffness,j.damping,j.precision);I=R[0],k=R[1]}var x=h.default(P/1e3,I,k,j.val,j.stiffness,j.damping,j.precision),C=x[0],M=x[1];_[T]=I+(C-I)*s,E[T]=k+(M-k)*s,S[T]=I,w[T]=k}}m[b]=S,v[b]=w,d[b]=_,y[b]=E}r.animationID=null,r.accumulatedTime-=c*P,r.setState({currentStyles:d,currentVelocities:y,lastIdealStyles:m,lastIdealVelocities:v,mergedPropsStyles:p}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return o(t,e),c(t,null,[{key:"propTypes",value:{defaultStyles:k.default.arrayOf(k.default.shape({key:k.default.string.isRequired,data:k.default.any,style:k.default.objectOf(k.default.number).isRequired})),styles:k.default.oneOfType([k.default.func,k.default.arrayOf(k.default.shape({key:k.default.string.isRequired,data:k.default.any,style:k.default.objectOf(k.default.oneOfType([k.default.number,k.default.object])).isRequired}))]).isRequired,children:k.default.func.isRequired,willEnter:k.default.func,willLeave:k.default.func,didLeave:k.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return y.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,r=e.willEnter,a=e.willLeave,o=e.didLeave,i="function"==typeof n?n(t):n,l=void 0;l=null==t?i:t.map(function(e){for(var t=0;t<i.length;t++)if(i[t].key===e.key)return i[t];return e});var s=null==t?i.map(function(e){return y.default(e.style)}):t.map(function(e){return y.default(e.style)}),c=null==t?i.map(function(e){return p.default(e.style)}):t.map(function(e){return p.default(e.style)}),f=u(r,a,o,l,i,s,c,s,c),d=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:d}},t.prototype.componentDidMount=function(){this.prevTime=O.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(i(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=O.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(E.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=i(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&j.default.Children.only(t)},t}(j.default.Component);t.default=A,e.exports=t.default},124:function(e,t,n){"use strict";function r(e,t,n){for(var r={},a=0;a<e.length;a++)r[e[a].key]=a;for(var o={},a=0;a<t.length;a++)o[t[a].key]=a;for(var i=[],a=0;a<t.length;a++)i[a]=t[a];for(var a=0;a<e.length;a++)if(!Object.prototype.hasOwnProperty.call(o,e[a].key)){var l=n(a,e[a]);null!=l&&i.push(l)}return i.sort(function(e,n){var a=o[e.key],i=o[n.key],l=r[e.key],u=r[n.key];if(null!=a&&null!=i)return o[e.key]-o[n.key];if(null!=l&&null!=u)return r[e.key]-r[n.key];if(null!=a){for(var s=0;s<t.length;s++){var c=t[s].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(a<o[c]&&u>r[c])return-1;if(a>o[c]&&u<r[c])return 1}}return 1}for(var s=0;s<t.length;s++){var c=t[s].key;if(Object.prototype.hasOwnProperty.call(r,c)){if(i<o[c]&&l>r[c])return 1;if(i>o[c]&&l<r[c])return-1}}return-1})}t.__esModule=!0,t.default=r,e.exports=t.default},125:function(e,t,n){"use strict";function r(e,t){return a({},l,t,{val:e})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(65),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=a({},i.default.noWobble,{precision:.01});e.exports=t.default},126:function(e,t,n){"use strict";function r(){}t.__esModule=!0,t.default=r;e.exports=t.default},127:function(e,t){},19:function(e,t,n){"use strict";function r(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t}t.__esModule=!0,t.default=r,e.exports=t.default},28:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var a=n(120);t.Motion=r(a);var o=n(122);t.StaggeredMotion=r(o);var i=n(123);t.TransitionMotion=r(i);var l=n(125);t.spring=r(l);var u=n(65);t.presets=r(u);var s=n(19);t.stripStyle=r(s);var c=n(126);t.reorderKeys=r(c)},29:function(e,t,n){"use strict";function r(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t}t.__esModule=!0,t.default=r,e.exports=t.default},30:function(e,t,n){"use strict";function r(e,t,n,r,o,i,l){var u=-o*(t-r),s=-i*n,c=u+s,f=n+c*e,p=t+f*e;return Math.abs(f)<l&&Math.abs(p-r)<l?(a[0]=r,a[1]=0,a):(a[0]=p,a[1]=f,a)}t.__esModule=!0,t.default=r;var a=[0,0];e.exports=t.default},31:function(e,t,n){(function(t){(function(){var n,r,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,n=function(){var e;return e=r(),1e9*e[0]+e[1]},a=n()):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)}).call(t,n(11))},32:function(e,t,n){(function(t){for(var r=n(121),a="undefined"==typeof window?t:window,o=["moz","webkit"],i="AnimationFrame",l=a["request"+i],u=a["cancel"+i]||a["cancelRequest"+i],s=0;!l&&s<o.length;s++)l=a[o[s]+"Request"+i],u=a[o[s]+"Cancel"+i]||a[o[s]+"CancelRequest"+i];if(!l||!u){var c=0,f=0,p=[];l=function(e){if(0===p.length){var t=r(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return p.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return l.call(a,e)},e.exports.cancel=function(){u.apply(a,arguments)},e.exports.polyfill=function(e){e||(e=a),e.requestAnimationFrame=l,e.cancelAnimationFrame=u}}).call(t,n(2))},33:function(e,t,n){"use strict";function r(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(0!==n[r])return!1;var a="number"==typeof t[r]?t[r]:t[r].val;if(e[r]!==a)return!1}return!0}t.__esModule=!0,t.default=r,e.exports=t.default},65:function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default}},[117]);
//# sourceMappingURL=client.09d8f5.js.map